import type { Response } from 'express';
import { OtaService } from './ota.service';
import { SearchTrainDto, CreateBookingDto } from './dto';
export declare class OtaController {
    private otaService;
    constructor(otaService: OtaService);
    getRoutes(): Promise<any>;
    searchTrains(dto: SearchTrainDto): Promise<any>;
    createBooking(dto: CreateBookingDto, user: any): Promise<{
        id: string;
        bookingCode: string;
        otaBookingRef: string | null;
        status: import("@prisma/client").$Enums.BookingStatus;
        priceIDR: number;
        priceSAR: number;
        markupAmount: number;
        totalAmount: number;
    }>;
    getUserBookings(userId: string, page?: string, limit?: string): Promise<{
        data: ({
            payments: {
                id: string;
                createdAt: Date;
                updatedAt: Date;
                status: import("@prisma/client").$Enums.PaymentStatus;
                bookingId: string;
                xenditPaymentId: string | null;
                externalId: string;
                qrString: string | null;
                amount: import("@prisma/client-runtime-utils").Decimal;
                currency: string;
                paymentMethod: string;
                expiresAt: Date;
                paidAt: Date | null;
                webhookPayload: import("@prisma/client/runtime/client").JsonValue | null;
                callbackUrl: string | null;
                metadata: import("@prisma/client/runtime/client").JsonValue | null;
            }[];
        } & {
            id: string;
            organizationId: string | null;
            createdAt: Date;
            updatedAt: Date;
            origin: string;
            destination: string;
            departureDate: Date;
            returnDate: Date | null;
            passengerCount: number;
            tripType: string;
            passengers: import("@prisma/client/runtime/client").JsonValue;
            bookingCode: string;
            otaBookingRef: string | null;
            status: import("@prisma/client").$Enums.BookingStatus;
            priceIDR: import("@prisma/client-runtime-utils").Decimal;
            priceSAR: import("@prisma/client-runtime-utils").Decimal;
            totalAmount: import("@prisma/client-runtime-utils").Decimal;
            pnr: string | null;
            originName: string | null;
            destinationName: string | null;
            markupAmount: import("@prisma/client-runtime-utils").Decimal;
            ticketUrl: string | null;
            otaResponse: import("@prisma/client/runtime/client").JsonValue | null;
            notes: string | null;
            userId: string;
            exchangeRateId: string | null;
        })[];
        meta: {
            total: number;
            page: number;
            limit: number;
            totalPages: number;
        };
    }>;
    getBooking(bookingId: string, userId: string): Promise<{
        exchangeRate: {
            id: string;
            isActive: boolean;
            createdAt: Date;
            fromCurrency: string;
            toCurrency: string;
            buyRate: import("@prisma/client-runtime-utils").Decimal;
            sellRate: import("@prisma/client-runtime-utils").Decimal;
            midRate: import("@prisma/client-runtime-utils").Decimal | null;
            source: string;
            fetchedAt: Date;
        } | null;
        payments: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: import("@prisma/client").$Enums.PaymentStatus;
            bookingId: string;
            xenditPaymentId: string | null;
            externalId: string;
            qrString: string | null;
            amount: import("@prisma/client-runtime-utils").Decimal;
            currency: string;
            paymentMethod: string;
            expiresAt: Date;
            paidAt: Date | null;
            webhookPayload: import("@prisma/client/runtime/client").JsonValue | null;
            callbackUrl: string | null;
            metadata: import("@prisma/client/runtime/client").JsonValue | null;
        }[];
    } & {
        id: string;
        organizationId: string | null;
        createdAt: Date;
        updatedAt: Date;
        origin: string;
        destination: string;
        departureDate: Date;
        returnDate: Date | null;
        passengerCount: number;
        tripType: string;
        passengers: import("@prisma/client/runtime/client").JsonValue;
        bookingCode: string;
        otaBookingRef: string | null;
        status: import("@prisma/client").$Enums.BookingStatus;
        priceIDR: import("@prisma/client-runtime-utils").Decimal;
        priceSAR: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        pnr: string | null;
        originName: string | null;
        destinationName: string | null;
        markupAmount: import("@prisma/client-runtime-utils").Decimal;
        ticketUrl: string | null;
        otaResponse: import("@prisma/client/runtime/client").JsonValue | null;
        notes: string | null;
        userId: string;
        exchangeRateId: string | null;
    }>;
    cancelBooking(bookingId: string, userId: string): Promise<{
        id: string;
        organizationId: string | null;
        createdAt: Date;
        updatedAt: Date;
        origin: string;
        destination: string;
        departureDate: Date;
        returnDate: Date | null;
        passengerCount: number;
        tripType: string;
        passengers: import("@prisma/client/runtime/client").JsonValue;
        bookingCode: string;
        otaBookingRef: string | null;
        status: import("@prisma/client").$Enums.BookingStatus;
        priceIDR: import("@prisma/client-runtime-utils").Decimal;
        priceSAR: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        pnr: string | null;
        originName: string | null;
        destinationName: string | null;
        markupAmount: import("@prisma/client-runtime-utils").Decimal;
        ticketUrl: string | null;
        otaResponse: import("@prisma/client/runtime/client").JsonValue | null;
        notes: string | null;
        userId: string;
        exchangeRateId: string | null;
    }>;
    downloadTickets(bookingId: string, userId: string, res: Response): Promise<void>;
}
